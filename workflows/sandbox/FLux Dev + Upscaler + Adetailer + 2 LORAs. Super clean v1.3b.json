{"last_node_id":126,"last_link_id":189,"nodes":[{"id":73,"type":"SDXLAspectRatioSelector","pos":[2237.3349609375,423.09527587890625],"size":[287.8085632324219,98],"flags":{"collapsed":false},"order":0,"mode":2,"inputs":[],"outputs":[{"name":"ratio","type":"STRING","links":null,"shape":3},{"name":"width","type":"INT","links":[111],"slot_index":1,"shape":3},{"name":"height","type":"INT","links":[113],"slot_index":2,"shape":3}],"properties":{"Node name for S&R":"SDXLAspectRatioSelector"},"widgets_values":["2:3"]},{"id":75,"type":"UpscaleModelLoader","pos":[2217.28564453125,113.4285659790039],"size":[304.5717468261719,58],"flags":{},"order":1,"mode":2,"inputs":[],"outputs":[{"name":"UPSCALE_MODEL","type":"UPSCALE_MODEL","links":[106],"shape":3,"localized_name":"UPSCALE_MODEL"}],"properties":{"Node name for S&R":"UpscaleModelLoader"},"widgets_values":["4x-UltraSharp.pth"],"color":"#223","bgcolor":"#335"},{"id":76,"type":"easy float","pos":[2217.28564453125,223.42855834960938],"size":[305.7148742675781,58],"flags":{},"order":2,"mode":2,"inputs":[],"outputs":[{"name":"float","type":"FLOAT","links":[107,110,112],"slot_index":0,"shape":3,"localized_name":"float"}],"title":"upscale by","properties":{"Node name for S&R":"easy float"},"widgets_values":[2],"color":"#223","bgcolor":"#335"},{"id":77,"type":"MathExpression|pysssss","pos":[2237.3349609375,333.09527587890625],"size":[270,116.00003051757812],"flags":{"collapsed":true},"order":14,"mode":2,"inputs":[{"name":"a","type":"INT,FLOAT,IMAGE,LATENT","link":110,"shape":7,"localized_name":"a"},{"name":"b","type":"INT,FLOAT,IMAGE,LATENT","link":111,"shape":7,"localized_name":"b"},{"name":"c","type":"INT,FLOAT,IMAGE,LATENT","link":null,"shape":7,"localized_name":"c"}],"outputs":[{"name":"INT","type":"INT","links":[108],"slot_index":0,"shape":3,"localized_name":"INT"},{"name":"FLOAT","type":"FLOAT","links":null,"shape":3,"localized_name":"FLOAT"}],"title":"tile height (Math Expression üêç)","properties":{"Node name for S&R":"MathExpression|pysssss"},"widgets_values":["a * b / 2 + 32"]},{"id":78,"type":"MathExpression|pysssss","pos":[2237.3349609375,373.09527587890625],"size":[270,116.00006103515625],"flags":{"collapsed":true},"order":15,"mode":2,"inputs":[{"name":"a","type":"INT,FLOAT,IMAGE,LATENT","link":112,"shape":7,"localized_name":"a"},{"name":"b","type":"INT,FLOAT,IMAGE,LATENT","link":113,"shape":7,"localized_name":"b"},{"name":"c","type":"INT,FLOAT,IMAGE,LATENT","link":null,"shape":7,"localized_name":"c"}],"outputs":[{"name":"INT","type":"INT","links":[109],"slot_index":0,"shape":3,"localized_name":"INT"},{"name":"FLOAT","type":"FLOAT","links":null,"shape":3,"localized_name":"FLOAT"}],"title":"tile height (Math Expression üêç)","properties":{"Node name for S&R":"MathExpression|pysssss"},"widgets_values":["a * b / 2 + 32"]},{"id":110,"type":"SaveImage","pos":[3414.284912109375,108.85721588134766],"size":[315,270],"flags":{},"order":35,"mode":4,"inputs":[{"name":"images","type":"IMAGE","link":162,"localized_name":"images"}],"outputs":[],"properties":{"Node name for S&R":"SaveImage"},"widgets_values":["ComfyUI"]},{"id":109,"type":"AV_FaceDetailer","pos":[2876,106],"size":[519,924],"flags":{},"order":30,"mode":4,"inputs":[{"name":"image","type":"IMAGE","link":169},{"name":"model","type":"MODEL","link":177},{"name":"clip","type":"CLIP","link":167},{"name":"vae","type":"VAE","link":166},{"name":"positive","type":"CONDITIONING","link":164},{"name":"negative","type":"CONDITIONING","link":181},{"name":"bbox_detector","type":"BBOX_DETECTOR","link":160},{"name":"sam_model_opt","type":"SAM_MODEL","link":161,"slot_index":7},{"name":"segm_detector_opt","type":"SEGM_DETECTOR","link":null},{"name":"detailer_hook","type":"DETAILER_HOOK","link":null},{"name":"scheduler_func_opt","type":"SCHEDULER_FUNC","link":null}],"outputs":[{"name":"image","type":"IMAGE","links":[162],"slot_index":0,"shape":3},{"name":"cropped_refined","type":"IMAGE","links":[163],"slot_index":1,"shape":6},{"name":"cropped_enhanced_alpha","type":"IMAGE","links":[],"slot_index":2,"shape":6},{"name":"mask","type":"MASK","links":[],"slot_index":3,"shape":3},{"name":"detailer_pipe","type":"DETAILER_PIPE","links":null,"shape":3},{"name":"cnet_images","type":"IMAGE","links":null,"shape":6}],"properties":{"Node name for S&R":"AV_FaceDetailer"},"widgets_values":[1024,true,1024,145360428951758,"randomize",40,4,"euler","normal",0.5,5,true,true,0.5,10,3,"center-1",0,0.93,0,0.7,"False",10,"",1,false,20,true]},{"id":120,"type":"ConditioningZeroOut","pos":[2617,823],"size":[275.7969665527344,62.09104537963867],"flags":{"collapsed":true},"order":20,"mode":2,"inputs":[{"name":"conditioning","type":"CONDITIONING","link":176,"localized_name":"conditioning"}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[179],"slot_index":0,"shape":3,"localized_name":"CONDITIONING"}],"properties":{"Node name for S&R":"ConditioningZeroOut"},"widgets_values":[]},{"id":112,"type":"PreviewImage","pos":[3418.284912109375,423.8572082519531],"size":[302.4238586425781,407.0221252441406],"flags":{},"order":36,"mode":4,"inputs":[{"name":"images","type":"IMAGE","link":163,"localized_name":"images"}],"outputs":[],"properties":{"Node name for S&R":"PreviewImage"},"widgets_values":[]},{"id":111,"type":"UltralyticsDetectorProvider","pos":[3423,880],"size":[315,78],"flags":{"collapsed":true},"order":4,"mode":4,"inputs":[],"outputs":[{"name":"BBOX_DETECTOR","type":"BBOX_DETECTOR","links":[160],"slot_index":0,"shape":3},{"name":"SEGM_DETECTOR","type":"SEGM_DETECTOR","links":null,"shape":3}],"properties":{"Node name for S&R":"UltralyticsDetectorProvider"},"widgets_values":["bbox/face_yolov8m.pt"]},{"id":113,"type":"SAMLoader","pos":[3427,923],"size":[315,82],"flags":{"collapsed":true},"order":4,"mode":4,"inputs":[],"outputs":[{"name":"SAM_MODEL","type":"SAM_MODEL","links":[161],"shape":3,"localized_name":"SAM_MODEL"}],"properties":{"Node name for S&R":"SAMLoader"},"widgets_values":["sam_vit_b_01ec64.pth","AUTO"]},{"id":122,"type":"ConditioningZeroOut","pos":[3435,1019],"size":[275.7969665527344,62.09104537963867],"flags":{"collapsed":true},"order":21,"mode":4,"inputs":[{"name":"conditioning","type":"CONDITIONING","link":180,"localized_name":"conditioning"}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[181],"slot_index":0,"shape":3,"localized_name":"CONDITIONING"}],"properties":{"Node name for S&R":"ConditioningZeroOut"},"widgets_values":[]},{"id":119,"type":"CLIPTextEncode","pos":[2564,772],"size":[285.6000061035156,76],"flags":{"collapsed":true},"order":17,"mode":2,"inputs":[{"name":"clip","type":"CLIP","link":178,"slot_index":0,"localized_name":"clip"}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[176],"slot_index":0,"localized_name":"CONDITIONING"}],"title":"CLIP Text Encode (Negative Prompt)","properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":[""]},{"id":121,"type":"CLIPTextEncode","pos":[3429,970],"size":[285.6000061035156,76],"flags":{"collapsed":true},"order":18,"mode":4,"inputs":[{"name":"clip","type":"CLIP","link":182,"slot_index":0,"localized_name":"clip"}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[180],"slot_index":0,"localized_name":"CONDITIONING"}],"title":"CLIP Text Encode (Negative Prompt)","properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":[""]},{"id":12,"type":"UNETLoader","pos":[-825,128],"size":[315,82],"flags":{"collapsed":true},"order":5,"mode":0,"inputs":[],"outputs":[{"name":"MODEL","type":"MODEL","links":[184],"slot_index":0,"shape":3,"localized_name":"MODEL"}],"properties":{"Node name for S&R":"UNETLoader"},"widgets_values":["flux1-dev.safetensors","default"]},{"id":60,"type":"FluxGuidance","pos":[313,974],"size":[404.5714111328125,58],"flags":{},"order":25,"mode":0,"inputs":[{"name":"conditioning","type":"CONDITIONING","link":86,"localized_name":"conditioning"}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[87,116],"slot_index":0,"shape":3,"localized_name":"CONDITIONING"}],"title":"Flux Guidance (2.0 for photorealism)","properties":{"Node name for S&R":"FluxGuidance"},"widgets_values":[3.5],"color":"#223","bgcolor":"#335"},{"id":25,"type":"RandomNoise","pos":[313,834],"size":[395.571533203125,82],"flags":{},"order":6,"mode":0,"inputs":[],"outputs":[{"name":"NOISE","type":"NOISE","links":[37],"shape":3,"localized_name":"NOISE"}],"properties":{"Node name for S&R":"RandomNoise"},"widgets_values":[113,"fixed"]},{"id":61,"type":"ModelSamplingFlux","pos":[77,407],"size":[215.85714721679688,122],"flags":{"collapsed":false},"order":22,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":173,"localized_name":"model"},{"name":"width","type":"INT","link":102,"widget":{"name":"width"}},{"name":"height","type":"INT","link":104,"widget":{"name":"height"}}],"outputs":[{"name":"MODEL","type":"MODEL","links":[93,94,125,177],"slot_index":0,"shape":3,"localized_name":"MODEL"}],"title":"Flux Shift","properties":{"Node name for S&R":"ModelSamplingFlux"},"widgets_values":[0.5,0.5,1024,1024]},{"id":5,"type":"EmptyLatentImage","pos":[80,74],"size":[210,78],"flags":{"collapsed":false},"order":16,"mode":0,"inputs":[{"name":"width","type":"INT","link":101,"widget":{"name":"width"}},{"name":"height","type":"INT","link":103,"widget":{"name":"height"}}],"outputs":[{"name":"LATENT","type":"LATENT","links":[23],"slot_index":0,"localized_name":"LATENT"}],"title":"Batch size","properties":{"Node name for S&R":"EmptyLatentImage"},"widgets_values":[832,1216,1]},{"id":79,"type":"SaveImage","pos":[2239,590],"size":[264.4930114746094,412.5284118652344],"flags":{},"order":33,"mode":2,"inputs":[{"name":"images","type":"IMAGE","link":119,"localized_name":"images"}],"outputs":[],"properties":{"Node name for S&R":"SaveImage"},"widgets_values":["Flux.1"]},{"id":74,"type":"UltimateSDUpscale","pos":[2534,113],"size":[316.42950439453125,603.7500610351562],"flags":{},"order":29,"mode":2,"inputs":[{"name":"image","type":"IMAGE","link":115},{"name":"model","type":"MODEL","link":125},{"name":"positive","type":"CONDITIONING","link":116,"slot_index":2},{"name":"negative","type":"CONDITIONING","link":179},{"name":"vae","type":"VAE","link":118},{"name":"upscale_model","type":"UPSCALE_MODEL","link":106,"slot_index":5},{"name":"upscale_by","type":"FLOAT","link":107,"slot_index":6,"widget":{"name":"upscale_by"}},{"name":"tile_width","type":"INT","link":108,"widget":{"name":"tile_width"}},{"name":"tile_height","type":"INT","link":109,"widget":{"name":"tile_height"}}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[119,187],"slot_index":0,"shape":3}],"properties":{"Node name for S&R":"UltimateSDUpscale"},"widgets_values":[2,1000122408342527,"fixed",20,1,"euler","beta",0.5,"Linear",1024,1024,16,32,"None",0.45,64,16,16,true,false],"color":"#223","bgcolor":"#335"},{"id":17,"type":"BasicScheduler","pos":[75,578],"size":[220.00003051757812,106],"flags":{},"order":24,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":93,"slot_index":0,"localized_name":"model"}],"outputs":[{"name":"SIGMAS","type":"SIGMAS","links":[20],"shape":3,"localized_name":"SIGMAS"}],"properties":{"Node name for S&R":"BasicScheduler"},"widgets_values":["simple",20,1]},{"id":70,"type":"Int Literal","pos":[80,297],"size":[210.71429443359375,58],"flags":{},"order":10,"mode":0,"inputs":[],"outputs":[{"name":"INT","type":"INT","links":[101,102],"slot_index":0,"shape":3}],"properties":{"Node name for S&R":"Int Literal"},"widgets_values":[1216],"color":"#233","bgcolor":"#355","title":"Width"},{"id":71,"type":"Int Literal","pos":[80,196],"size":[210,58],"flags":{},"order":11,"mode":0,"inputs":[],"outputs":[{"name":"INT","type":"INT","links":[103,104],"slot_index":0,"shape":3}],"properties":{"Node name for S&R":"Int Literal"},"widgets_values":[832],"color":"#233","bgcolor":"#355","title":"Height"},{"id":116,"type":"Power Lora Loader (rgthree)","pos":[69,731],"size":[226.8000030517578,295.8929443359375],"flags":{},"order":19,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":184,"dir":3},{"name":"clip","type":"CLIP","link":183,"dir":3}],"outputs":[{"name":"MODEL","type":"MODEL","links":[173],"slot_index":0,"shape":3,"dir":4},{"name":"CLIP","type":"CLIP","links":[172],"slot_index":1,"shape":3,"dir":4}],"properties":{"Show Strengths":"Single Strength"},"widgets_values":[null,{"type":"PowerLoraLoaderHeaderWidget"},null,""],"color":"#323","bgcolor":"#535"},{"id":124,"type":"Fast Groups Bypasser (rgthree)","pos":[314,701],"size":[397.380859375,82],"flags":{},"order":9,"mode":0,"inputs":[],"outputs":[{"name":"OPT_CONNECTION","type":"*","links":null}],"properties":{"matchColors":"","matchTitle":"","showNav":true,"sort":"position","customSortAlphabet":"","toggleRestriction":"default"},"color":"#432","bgcolor":"#653"},{"id":125,"type":"String Literal","pos":[316,80],"size":[401.3652501495362,561.4319234375],"flags":{},"order":13,"mode":0,"inputs":[],"outputs":[{"name":"STRING","type":"STRING","links":[188],"slot_index":0,"shape":3}],"properties":{"Node name for S&R":"String Literal"},"widgets_values":[""],"color":"#232","bgcolor":"#353","title":"PROMPT HERE"},{"id":126,"type":"PlaySound|pysssss","pos":[-818,335],"size":[210,106],"flags":{"collapsed":true},"order":32,"mode":0,"inputs":[{"name":"any","type":"*","link":189,"slot_index":0,"localized_name":"any"}],"outputs":[{"name":"*","type":"*","links":null,"shape":6,"localized_name":"*"}],"properties":{"Node name for S&R":"PlaySound|pysssss"},"widgets_values":["always",1,"notify.mp3"]},{"id":8,"type":"VAEDecode","pos":[-818,287],"size":[210,46],"flags":{"collapsed":true},"order":28,"mode":0,"inputs":[{"name":"samples","type":"LATENT","link":24,"localized_name":"samples"},{"name":"vae","type":"VAE","link":12,"localized_name":"vae"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[115,169,185,186,189],"slot_index":0,"localized_name":"IMAGE"}],"properties":{"Node name for S&R":"VAEDecode"},"widgets_values":[]},{"id":22,"type":"BasicGuider","pos":[-821,240],"size":[196.9998779296875,62.66668701171875],"flags":{"collapsed":true},"order":26,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":94,"slot_index":0,"localized_name":"model"},{"name":"conditioning","type":"CONDITIONING","link":87,"slot_index":1,"localized_name":"conditioning"}],"outputs":[{"name":"GUIDER","type":"GUIDER","links":[30],"slot_index":0,"shape":3,"localized_name":"GUIDER"}],"properties":{"Node name for S&R":"BasicGuider"},"widgets_values":[]},{"id":11,"type":"DualCLIPLoader","pos":[-822,79],"size":[315,106],"flags":{"collapsed":true},"order":11,"mode":0,"inputs":[],"outputs":[{"name":"CLIP","type":"CLIP","links":[167,178,182,183],"slot_index":0,"shape":3,"localized_name":"CLIP"}],"properties":{"Node name for S&R":"DualCLIPLoader"},"widgets_values":["t5xxl_fp16.safetensors","clip_l.safetensors","flux"]},{"id":10,"type":"VAELoader","pos":[-821,35],"size":[315,58],"flags":{"collapsed":true},"order":12,"mode":0,"inputs":[],"outputs":[{"name":"VAE","type":"VAE","links":[12,118,166],"slot_index":0,"shape":3,"localized_name":"VAE"}],"properties":{"Node name for S&R":"VAELoader"},"widgets_values":["Flux.Vae.safetensors"]},{"id":6,"type":"CLIPTextEncode","pos":[-820,188],"size":[210,54],"flags":{"collapsed":true},"order":23,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":172,"localized_name":"clip"},{"name":"text","type":"STRING","link":188,"slot_index":1,"widget":{"name":"text"}}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[86,164],"slot_index":0,"localized_name":"CONDITIONING"}],"properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":[""]},{"id":13,"type":"SamplerCustomAdvanced","pos":[-820,380],"size":[352.4039611816406,463.3393859863281],"flags":{"collapsed":true},"order":27,"mode":0,"inputs":[{"name":"noise","type":"NOISE","link":37,"slot_index":0,"localized_name":"noise"},{"name":"guider","type":"GUIDER","link":30,"slot_index":1,"localized_name":"guider"},{"name":"sampler","type":"SAMPLER","link":19,"slot_index":2,"localized_name":"sampler"},{"name":"sigmas","type":"SIGMAS","link":20,"slot_index":3,"localized_name":"sigmas"},{"name":"latent_image","type":"LATENT","link":23,"slot_index":4,"localized_name":"latent_image"}],"outputs":[{"name":"output","type":"LATENT","links":[24],"slot_index":0,"shape":3,"localized_name":"output"},{"name":"denoised_output","type":"LATENT","links":null,"shape":3,"localized_name":"denoised_output"}],"properties":{"Node name for S&R":"SamplerCustomAdvanced"},"widgets_values":[]},{"id":16,"type":"KSamplerSelect","pos":[-824,424],"size":[235.1999969482422,58],"flags":{"collapsed":true},"order":13,"mode":0,"inputs":[],"outputs":[{"name":"SAMPLER","type":"SAMPLER","links":[19],"shape":3,"localized_name":"SAMPLER"}],"title":"EULER-clean / ipndm detailed","properties":{"Node name for S&R":"KSamplerSelect"},"widgets_values":["euler"]},{"id":9,"type":"SaveImage","pos":[-823,473],"size":[211.42874145507812,270],"flags":{},"order":31,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":185,"localized_name":"images"}],"outputs":[],"properties":{"Node name for S&R":"SaveImage"},"widgets_values":["Flux.1"]},{"id":90,"type":"Image Comparer (rgthree)","pos":[757.849853515625,31.960968017578125],"size":[1438.571533203125,977.3214111328125],"flags":{},"order":34,"mode":0,"inputs":[{"name":"image_a","type":"IMAGE","link":186,"slot_index":0,"dir":3},{"name":"image_b","type":"IMAGE","link":187,"slot_index":1,"dir":3}],"outputs":[],"title":"Image Comparer (rgthree)  Slider comparison between generated image and upscaled","properties":{"comparer_mode":"Slide"},"widgets_values":[[{"name":"A","selected":true,"url":"/api/view?filename=rgthree.compare._temp_itjnz_00039_.png&type=temp&subfolder=&rand=0.3356072913959487"},{"name":"B","selected":true,"url":"/api/view?filename=rgthree.compare._temp_itjnz_00040_.png&type=temp&subfolder=&rand=0.17550377177145982"}]]}],"links":[[12,10,0,8,1,"VAE"],[19,16,0,13,2,"SAMPLER"],[20,17,0,13,3,"SIGMAS"],[23,5,0,13,4,"LATENT"],[24,13,0,8,0,"LATENT"],[30,22,0,13,1,"GUIDER"],[37,25,0,13,0,"NOISE"],[86,6,0,60,0,"CONDITIONING"],[87,60,0,22,1,"CONDITIONING"],[93,61,0,17,0,"MODEL"],[94,61,0,22,0,"MODEL"],[101,70,0,5,0,"INT"],[102,70,0,61,1,"INT"],[103,71,0,5,1,"INT"],[104,71,0,61,2,"INT"],[106,75,0,74,5,"UPSCALE_MODEL"],[107,76,0,74,6,"FLOAT"],[108,77,0,74,7,"INT"],[109,78,0,74,8,"INT"],[110,76,0,77,0,"INT,FLOAT,IMAGE,LATENT"],[111,73,1,77,1,"INT,FLOAT,IMAGE,LATENT"],[112,76,0,78,0,"INT,FLOAT,IMAGE,LATENT"],[113,73,2,78,1,"INT,FLOAT,IMAGE,LATENT"],[115,8,0,74,0,"IMAGE"],[116,60,0,74,2,"CONDITIONING"],[118,10,0,74,4,"VAE"],[119,74,0,79,0,"IMAGE"],[125,61,0,74,1,"MODEL"],[160,111,0,109,6,"BBOX_DETECTOR"],[161,113,0,109,7,"SAM_MODEL"],[162,109,0,110,0,"IMAGE"],[163,109,1,112,0,"IMAGE"],[164,6,0,109,4,"CONDITIONING"],[166,10,0,109,3,"VAE"],[167,11,0,109,2,"CLIP"],[169,8,0,109,0,"IMAGE"],[172,116,1,6,0,"CLIP"],[173,116,0,61,0,"MODEL"],[176,119,0,120,0,"CONDITIONING"],[177,61,0,109,1,"MODEL"],[178,11,0,119,0,"CLIP"],[179,120,0,74,3,"CONDITIONING"],[180,121,0,122,0,"CONDITIONING"],[181,122,0,109,5,"CONDITIONING"],[182,11,0,121,0,"CLIP"],[183,11,0,116,1,"CLIP"],[184,12,0,116,0,"MODEL"],[185,8,0,9,0,"IMAGE"],[186,8,0,90,0,"IMAGE"],[187,74,0,90,1,"IMAGE"],[188,125,0,6,1,"STRING"],[189,8,0,126,0,"*"]],"groups":[{"id":1,"title":"Adetailer Face","bounding":[2864,33,875,1005],"color":"#3f789e","font_size":24,"flags":{}},{"id":2,"title":"UPSCALE","bounding":[2200,34,659,1004],"color":"#8AA","font_size":24,"flags":{}}],"config":{},"extra":{"ds":{"scale":0.6115909044841469,"offset":[831.0083444868405,110.1116584035187]}},"version":0.4}