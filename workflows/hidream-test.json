{"id":"01d66ae9-78be-4a8d-b737-24eee5e1d447","revision":0,"last_node_id":94,"last_link_id":186,"nodes":[{"id":40,"type":"CLIPTextEncode","pos":[530,210],"size":[432,192],"flags":{"collapsed":true},"order":14,"mode":0,"inputs":[{"localized_name":"clip","name":"clip","type":"CLIP","link":186},{"localized_name":"text","name":"text","type":"STRING","widget":{"name":"text"},"link":null}],"outputs":[{"localized_name":"CONDITIONING","name":"CONDITIONING","type":"CONDITIONING","slot_index":0,"links":[114]}],"title":"Negative Prompt","properties":{"Node name for S&R":"CLIPTextEncode","cnr_id":"comfy-core","ver":"0.3.28","enableTabs":false,"tabWidth":65,"tabXOffset":10,"hasSecondTab":false,"secondTabText":"Send Back","secondTabOffset":80,"secondTabWidth":65,"widget_ue_connectable":{"text":true}},"widgets_values":["bad ugly jpeg artifacts"],"color":"#322","bgcolor":"#533"},{"id":70,"type":"ModelSamplingSD3","pos":[520,-140],"size":[210,58],"flags":{},"order":12,"mode":0,"inputs":[{"localized_name":"model","name":"model","type":"MODEL","link":172},{"localized_name":"shift","name":"shift","type":"FLOAT","widget":{"name":"shift"},"link":null}],"outputs":[{"localized_name":"MODEL","name":"MODEL","type":"MODEL","links":[163]}],"properties":{"Node name for S&R":"ModelSamplingSD3","cnr_id":"comfy-core","ver":"0.3.28","enableTabs":false,"tabWidth":65,"tabXOffset":10,"hasSecondTab":false,"secondTabText":"Send Back","secondTabOffset":80,"secondTabWidth":65,"widget_ue_connectable":{"shift":true}},"widgets_values":[6.000000000000001]},{"id":8,"type":"VAEDecode","pos":[534.3468017578125,260.3710632324219],"size":[210,46],"flags":{},"order":16,"mode":0,"inputs":[{"localized_name":"samples","name":"samples","type":"LATENT","link":160},{"localized_name":"vae","name":"vae","type":"VAE","link":177}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","slot_index":0,"links":[51]}],"properties":{"Node name for S&R":"VAEDecode","cnr_id":"comfy-core","ver":"0.3.28","enableTabs":false,"tabWidth":65,"tabXOffset":10,"hasSecondTab":false,"secondTabText":"Send Back","secondTabOffset":80,"secondTabWidth":65,"widget_ue_connectable":{}},"widgets_values":[]},{"id":72,"type":"MarkdownNote","pos":[877.4470825195312,168.042236328125],"size":[331.0386047363281,444.1693420410156],"flags":{},"order":0,"mode":0,"inputs":[],"outputs":[],"title":"Sampling Settings","properties":{"widget_ue_connectable":{}},"widgets_values":["## Official sampling settings\n\nProvided for reference, my workflows may have slightly different settings.\n\n### HiDream Full\n\n* hidream_i1_full_fp16.safetensors\n* shift: 3.0\n* steps: 50\n* sampler: uni_pc\n* scheduler: simple\n* cfg: 5.0\n\n### HiDream Dev\n\n* hidream_i1_dev_bf16.safetensors\n* shift: 6.0\n* steps: 28\n* sampler: lcm\n* scheduler: normal\n* cfg: 1.0 (no negative prompt)\n\n### HiDream Fast\n\n* hidream_i1_fast_bf16.safetensors\n* shift: 3.0\n* steps: 16\n* sampler: lcm\n* scheduler: normal\n* cfg: 1.0 (no negative prompt)\n"],"color":"#432","bgcolor":"#653"},{"id":9,"type":"SaveImage","pos":[1232.53759765625,-139.12567138671875],"size":[621.0535278320312,785.6536865234375],"flags":{},"order":17,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":51},{"localized_name":"filename_prefix","name":"filename_prefix","type":"STRING","widget":{"name":"filename_prefix"},"link":null}],"outputs":[],"properties":{"Node name for S&R":"SaveImage","cnr_id":"comfy-core","ver":"0.3.28","enableTabs":false,"tabWidth":65,"tabXOffset":10,"hasSecondTab":false,"secondTabText":"Send Back","secondTabOffset":80,"secondTabWidth":65,"widget_ue_connectable":{"filename_prefix":true}},"widgets_values":["ComfyUI"]},{"id":53,"type":"EmptySD3LatentImage","pos":[150,430],"size":[315,106],"flags":{},"order":1,"mode":0,"inputs":[{"localized_name":"width","name":"width","type":"INT","widget":{"name":"width"},"link":null},{"localized_name":"height","name":"height","type":"INT","widget":{"name":"height"},"link":null},{"localized_name":"batch_size","name":"batch_size","type":"INT","widget":{"name":"batch_size"},"link":null}],"outputs":[{"localized_name":"LATENT","name":"LATENT","type":"LATENT","slot_index":0,"links":[100]}],"properties":{"Node name for S&R":"EmptySD3LatentImage","cnr_id":"comfy-core","ver":"0.3.28","enableTabs":false,"tabWidth":65,"tabXOffset":10,"hasSecondTab":false,"secondTabText":"Send Back","secondTabOffset":80,"secondTabWidth":65,"widget_ue_connectable":{"width":true,"height":true,"batch_size":true}},"widgets_values":[1280,720,1]},{"id":81,"type":"MarkdownNote","pos":[-1070.6864013671875,-157.54974365234375],"size":[492.8996276855469,701.3790283203125],"flags":{},"order":2,"mode":0,"inputs":[],"outputs":[],"properties":{"widget_ue_connectable":{}},"widgets_values":["## Next Diffusion\n- [Written Tutorial](https://www.nextdiffusion.ai/blogs/run-hidream-in-comfyui-step-by-step-guide) \n- [Youtube Videos](https://www.youtube.com/channel/UCd9UIUkLnjE-Fj-CGFdU74Q?sub_confirmation=1)\n\n### diffusion_models\n\nDownload one of the model from the following links:\n\n- [HiDream-I1-Full-gguf](https://huggingface.co/city96/HiDream-I1-Full-gguf) \n- [HiDream-I1-Dev-gguf](https://huggingface.co/city96/HiDream-I1-Dev-gguf) \n- [HiDream-I1-Fast-gguf](https://huggingface.co/city96/HiDream-I1-Fast-gguf) \n\n\n### Text_encoders\n\n- [clip_l_hidream.safetensors](https://huggingface.co/Comfy-Org/HiDream-I1_ComfyUI/blob/main/split_files/text_encoders/clip_l_hidream.safetensors)\n- [clip_g_hidream.safetensors](https://huggingface.co/Comfy-Org/HiDream-I1_ComfyUI/blob/main/split_files/text_encoders/clip_g_hidream.safetensors)\n- [t5xxl_fp8_e4m3fn_scaled.safetensors](https://huggingface.co/Comfy-Org/HiDream-I1_ComfyUI/blob/main/split_files/text_encoders/t5xxl_fp8_e4m3fn_scaled.safetensors)\n- [llama_3.1_8b_instruct_fp8_scaled.safetensors](https://huggingface.co/Comfy-Org/HiDream-I1_ComfyUI/blob/main/split_files/text_encoders/llama_3.1_8b_instruct_fp8_scaled.safetensors)\n\n### VAE\n-  [ae.safetensors](https://huggingface.co/Comfy-Org/HiDream-I1_ComfyUI/blob/main/split_files/vae/ae.safetensors) This is the VAE model from Flux. If you have used the Flux workflow, you already have this file.\n\n\n### File location\n\n```\nðŸ“‚ ComfyUI/\nâ”œâ”€â”€ ðŸ“‚ models/\nâ”‚   â”œâ”€â”€ ðŸ“‚ text_encoders/\nâ”‚   â”‚   â”œâ”€â”€â”€ clip_l_hidream.safetensors\nâ”‚   â”‚   â”œâ”€â”€â”€ clip_g_hidream.safetensors\nâ”‚   â”‚   â”œâ”€â”€â”€ t5xxl_fp8_e4m3fn_scaled.safetensors\nâ”‚   â”‚   â””â”€â”€â”€ llama_3.1_8b_instruct_fp8_scaled.safetensors\nâ”‚   â””â”€â”€ ðŸ“‚ vae/\nâ”‚   â”‚   â””â”€â”€ ae.safetensors\nâ”‚   â””â”€â”€ ðŸ“‚ diffusion_models/\nâ”‚       â””â”€â”€  hidream_i1_dev_fp8.safetensors  # Or models  you choose\n```"],"color":"#432","bgcolor":"#653"},{"id":83,"type":"UnetLoaderGGUF","pos":[167.841796875,-78.35187530517578],"size":[270,58],"flags":{},"order":9,"mode":0,"inputs":[{"localized_name":"unet_name","name":"unet_name","type":"STRING","widget":{"name":"unet_name"},"link":168}],"outputs":[{"localized_name":"MODEL","name":"MODEL","type":"MODEL","links":[172]}],"properties":{"Node name for S&R":"UnetLoaderGGUF","widget_ue_connectable":{}},"widgets_values":[""]},{"id":91,"type":"EmProps_VAE_Loader","pos":[171.16957092285156,250.0719451904297],"size":[270,58],"flags":{},"order":10,"mode":0,"inputs":[{"localized_name":"vae_name","name":"vae_name","type":"STRING","widget":{"name":"vae_name"},"link":176}],"outputs":[{"localized_name":"VAE","name":"VAE","type":"VAE","links":[177]}],"properties":{"Node name for S&R":"EmProps_VAE_Loader","widget_ue_connectable":{}},"widgets_values":[""]},{"id":85,"type":"EmProps_Asset_Downloader","pos":[-287.16021728515625,-386.22833251953125],"size":[274.9751892089844,222],"flags":{},"order":3,"mode":0,"inputs":[{"localized_name":"url","name":"url","type":"STRING","widget":{"name":"url"},"link":null},{"localized_name":"save_to","name":"save_to","type":"COMBO","widget":{"name":"save_to"},"link":null},{"localized_name":"filename","name":"filename","type":"STRING","widget":{"name":"filename"},"link":null},{"localized_name":"token_provider","name":"token_provider","type":"COMBO","widget":{"name":"token_provider"},"link":null},{"localized_name":"token","name":"token","shape":7,"type":"STRING","widget":{"name":"token"},"link":null},{"localized_name":"test_with_copy","name":"test_with_copy","shape":7,"type":"BOOLEAN","widget":{"name":"test_with_copy"},"link":null},{"localized_name":"source_filename","name":"source_filename","shape":7,"type":"STRING","widget":{"name":"source_filename"},"link":null}],"outputs":[{"localized_name":"downloaded_path","name":"downloaded_path","type":"STRING","links":null},{"localized_name":"ckpt_name","name":"ckpt_name","type":"STRING","links":[168]}],"properties":{"Node name for S&R":"EmProps_Asset_Downloader","widget_ue_connectable":{}},"widgets_values":["https://huggingface.co/city96/HiDream-I1-Full-gguf/resolve/main/hidream-i1-full-Q8_0.gguf","diffusion_models","hidream-i1-full-Q8_0.gguf","None","",false,""]},{"id":90,"type":"EmProps_Asset_Downloader","pos":[-275.8396301269531,1040.0848388671875],"size":[274.9751892089844,222],"flags":{},"order":4,"mode":0,"inputs":[{"localized_name":"url","name":"url","type":"STRING","widget":{"name":"url"},"link":null},{"localized_name":"save_to","name":"save_to","type":"COMBO","widget":{"name":"save_to"},"link":null},{"localized_name":"filename","name":"filename","type":"STRING","widget":{"name":"filename"},"link":null},{"localized_name":"token_provider","name":"token_provider","type":"COMBO","widget":{"name":"token_provider"},"link":null},{"localized_name":"token","name":"token","shape":7,"type":"STRING","widget":{"name":"token"},"link":null},{"localized_name":"test_with_copy","name":"test_with_copy","shape":7,"type":"BOOLEAN","widget":{"name":"test_with_copy"},"link":null},{"localized_name":"source_filename","name":"source_filename","shape":7,"type":"STRING","widget":{"name":"source_filename"},"link":null}],"outputs":[{"localized_name":"downloaded_path","name":"downloaded_path","type":"STRING","links":null},{"localized_name":"ckpt_name","name":"ckpt_name","type":"STRING","links":[176]}],"properties":{"Node name for S&R":"EmProps_Asset_Downloader","widget_ue_connectable":{}},"widgets_values":["https://huggingface.co/UmeAiRT/ComfyUI-Auto_installer/resolve/027bd76c3514d062a2190c84c1598a7fb7dd7ebb/models/vae/ae.safetensors","vae","ae.safetensors","None","",false,""]},{"id":3,"type":"KSampler","pos":[881.4650268554688,-162.10997009277344],"size":[310,262],"flags":{},"order":15,"mode":0,"inputs":[{"localized_name":"model","name":"model","type":"MODEL","link":163},{"localized_name":"positive","name":"positive","type":"CONDITIONING","link":180},{"localized_name":"negative","name":"negative","type":"CONDITIONING","link":114},{"localized_name":"latent_image","name":"latent_image","type":"LATENT","link":100},{"localized_name":"seed","name":"seed","type":"INT","widget":{"name":"seed"},"link":null},{"localized_name":"steps","name":"steps","type":"INT","widget":{"name":"steps"},"link":null},{"localized_name":"cfg","name":"cfg","type":"FLOAT","widget":{"name":"cfg"},"link":null},{"localized_name":"sampler_name","name":"sampler_name","type":"COMBO","widget":{"name":"sampler_name"},"link":null},{"localized_name":"scheduler","name":"scheduler","type":"COMBO","widget":{"name":"scheduler"},"link":null},{"localized_name":"denoise","name":"denoise","type":"FLOAT","widget":{"name":"denoise"},"link":null}],"outputs":[{"localized_name":"LATENT","name":"LATENT","type":"LATENT","slot_index":0,"links":[160]}],"properties":{"Node name for S&R":"KSampler","cnr_id":"comfy-core","ver":"0.3.28","enableTabs":false,"tabWidth":65,"tabXOffset":10,"hasSecondTab":false,"secondTabText":"Send Back","secondTabOffset":80,"secondTabWidth":65,"widget_ue_connectable":{"seed":true,"steps":true,"cfg":true,"sampler_name":true,"scheduler":true,"denoise":true}},"widgets_values":[613598456794816,"randomize",28,1,"lcm","normal",1]},{"id":92,"type":"CLIPTextEncode","pos":[456.9554748535156,-345.2586975097656],"size":[432,192],"flags":{},"order":13,"mode":0,"inputs":[{"localized_name":"clip","name":"clip","type":"CLIP","link":185},{"localized_name":"text","name":"text","type":"STRING","widget":{"name":"text"},"link":null}],"outputs":[{"localized_name":"CONDITIONING","name":"CONDITIONING","type":"CONDITIONING","slot_index":0,"links":[180]}],"title":"Positive Prompt","properties":{"Node name for S&R":"CLIPTextEncode","widget_ue_connectable":{}},"widgets_values":["Pixel art style scene, Colecovision or Atari aesthetic: Inside a cave, prehistoric family (man, woman, child) standing with their backs to viewer, facing a large cave wall covered in primitive finger paintings - handprints, animals, simple figures like Lascaux cave art. Large crackling campfire positioned BEHIND the family, between them and the viewer. The fire casts the family's silhouettes and shadows directly onto the cave wall, overlapping with the cave paintings. Warm orange and red firelight illuminates the cave wall from behind the figures. Early retro gaming graphics with limited color palette, chunky pixels, simple but atmospheric lighting.\n"],"color":"#232","bgcolor":"#353"},{"id":87,"type":"EmProps_Asset_Downloader","pos":[-283.22967529296875,180.30116271972656],"size":[274.9751892089844,222],"flags":{},"order":5,"mode":0,"inputs":[{"localized_name":"url","name":"url","type":"STRING","widget":{"name":"url"},"link":null},{"localized_name":"save_to","name":"save_to","type":"COMBO","widget":{"name":"save_to"},"link":null},{"localized_name":"filename","name":"filename","type":"STRING","widget":{"name":"filename"},"link":null},{"localized_name":"token_provider","name":"token_provider","type":"COMBO","widget":{"name":"token_provider"},"link":null},{"localized_name":"token","name":"token","shape":7,"type":"STRING","widget":{"name":"token"},"link":null},{"localized_name":"test_with_copy","name":"test_with_copy","shape":7,"type":"BOOLEAN","widget":{"name":"test_with_copy"},"link":null},{"localized_name":"source_filename","name":"source_filename","shape":7,"type":"STRING","widget":{"name":"source_filename"},"link":null}],"outputs":[{"localized_name":"downloaded_path","name":"downloaded_path","type":"STRING","links":null},{"localized_name":"ckpt_name","name":"ckpt_name","type":"STRING","links":[182]}],"properties":{"Node name for S&R":"EmProps_Asset_Downloader","widget_ue_connectable":{}},"widgets_values":["https://huggingface.co/Comfy-Org/HiDream-I1_ComfyUI/resolve/main/split_files/text_encoders/clip_g_hidream.safetensors","text_encoders","clip_g_hidream.safetensors","None","",false,""]},{"id":88,"type":"EmProps_Asset_Downloader","pos":[-284.45501708984375,-96.8895034790039],"size":[274.9751892089844,222],"flags":{},"order":6,"mode":0,"inputs":[{"localized_name":"url","name":"url","type":"STRING","widget":{"name":"url"},"link":null},{"localized_name":"save_to","name":"save_to","type":"COMBO","widget":{"name":"save_to"},"link":null},{"localized_name":"filename","name":"filename","type":"STRING","widget":{"name":"filename"},"link":null},{"localized_name":"token_provider","name":"token_provider","type":"COMBO","widget":{"name":"token_provider"},"link":null},{"localized_name":"token","name":"token","shape":7,"type":"STRING","widget":{"name":"token"},"link":null},{"localized_name":"test_with_copy","name":"test_with_copy","shape":7,"type":"BOOLEAN","widget":{"name":"test_with_copy"},"link":null},{"localized_name":"source_filename","name":"source_filename","shape":7,"type":"STRING","widget":{"name":"source_filename"},"link":null}],"outputs":[{"localized_name":"downloaded_path","name":"downloaded_path","type":"STRING","links":null},{"localized_name":"ckpt_name","name":"ckpt_name","type":"STRING","links":[181]}],"properties":{"Node name for S&R":"EmProps_Asset_Downloader","widget_ue_connectable":{}},"widgets_values":["https://huggingface.co/Comfy-Org/HiDream-I1_ComfyUI/resolve/main/split_files/text_encoders/clip_l_hidream.safetensors","text_encoders","clip_l_hidream.safetensors","None","",false,""]},{"id":94,"type":"EmProps_QuadrupleCLIP_Loader","pos":[153.11341857910156,29.1832275390625],"size":[305.3472595214844,154],"flags":{},"order":11,"mode":0,"inputs":[{"localized_name":"clip_name1","name":"clip_name1","type":"STRING","widget":{"name":"clip_name1"},"link":181},{"localized_name":"clip_name2","name":"clip_name2","type":"STRING","widget":{"name":"clip_name2"},"link":182},{"localized_name":"clip_name3","name":"clip_name3","type":"STRING","widget":{"name":"clip_name3"},"link":183},{"localized_name":"clip_name4","name":"clip_name4","type":"STRING","widget":{"name":"clip_name4"},"link":184},{"localized_name":"device","name":"device","shape":7,"type":"COMBO","widget":{"name":"device"},"link":null}],"outputs":[{"localized_name":"CLIP","name":"CLIP","type":"CLIP","links":[185,186]}],"properties":{"Node name for S&R":"EmProps_QuadrupleCLIP_Loader","widget_ue_connectable":{}},"widgets_values":["","","","","default"]},{"id":84,"type":"EmProps_Asset_Downloader","pos":[-286.7051086425781,460.3355712890625],"size":[274.9751892089844,222],"flags":{},"order":7,"mode":0,"inputs":[{"localized_name":"url","name":"url","type":"STRING","widget":{"name":"url"},"link":null},{"localized_name":"save_to","name":"save_to","type":"COMBO","widget":{"name":"save_to"},"link":null},{"localized_name":"filename","name":"filename","type":"STRING","widget":{"name":"filename"},"link":null},{"localized_name":"token_provider","name":"token_provider","type":"COMBO","widget":{"name":"token_provider"},"link":null},{"localized_name":"token","name":"token","shape":7,"type":"STRING","widget":{"name":"token"},"link":null},{"localized_name":"test_with_copy","name":"test_with_copy","shape":7,"type":"BOOLEAN","widget":{"name":"test_with_copy"},"link":null},{"localized_name":"source_filename","name":"source_filename","shape":7,"type":"STRING","widget":{"name":"source_filename"},"link":null}],"outputs":[{"localized_name":"downloaded_path","name":"downloaded_path","type":"STRING","links":null},{"localized_name":"ckpt_name","name":"ckpt_name","type":"STRING","links":[183]}],"properties":{"Node name for S&R":"EmProps_Asset_Downloader","widget_ue_connectable":{}},"widgets_values":["https://huggingface.co/Comfy-Org/HiDream-I1_ComfyUI/resolve/main/split_files/text_encoders/t5xxl_fp8_e4m3fn_scaled.safetensors","text_encoders","t5xxl_fp8_e4m3fn_scaled.safetensors","None","",false,""]},{"id":86,"type":"EmProps_Asset_Downloader","pos":[-281.7710876464844,746.7189331054688],"size":[274.9751892089844,222],"flags":{},"order":8,"mode":0,"inputs":[{"localized_name":"url","name":"url","type":"STRING","widget":{"name":"url"},"link":null},{"localized_name":"save_to","name":"save_to","type":"COMBO","widget":{"name":"save_to"},"link":null},{"localized_name":"filename","name":"filename","type":"STRING","widget":{"name":"filename"},"link":null},{"localized_name":"token_provider","name":"token_provider","type":"COMBO","widget":{"name":"token_provider"},"link":null},{"localized_name":"token","name":"token","shape":7,"type":"STRING","widget":{"name":"token"},"link":null},{"localized_name":"test_with_copy","name":"test_with_copy","shape":7,"type":"BOOLEAN","widget":{"name":"test_with_copy"},"link":null},{"localized_name":"source_filename","name":"source_filename","shape":7,"type":"STRING","widget":{"name":"source_filename"},"link":null}],"outputs":[{"localized_name":"downloaded_path","name":"downloaded_path","type":"STRING","links":null},{"localized_name":"ckpt_name","name":"ckpt_name","type":"STRING","links":[184]}],"properties":{"Node name for S&R":"EmProps_Asset_Downloader","widget_ue_connectable":{}},"widgets_values":["https://huggingface.co/Comfy-Org/HiDream-I1_ComfyUI/resolve/main/split_files/text_encoders/llama_3.1_8b_instruct_fp8_scaled.safetensors","text_encoders","llama_3.1_8b_instruct_fp8_scaled.safetensors","None","",false,""]}],"links":[[51,8,0,9,0,"IMAGE"],[100,53,0,3,3,"LATENT"],[114,40,0,3,2,"CONDITIONING"],[160,3,0,8,0,"LATENT"],[163,70,0,3,0,"MODEL"],[168,85,1,83,0,"STRING"],[172,83,0,70,0,"MODEL"],[176,90,1,91,0,"STRING"],[177,91,0,8,1,"VAE"],[180,92,0,3,1,"CONDITIONING"],[181,88,1,94,0,"STRING"],[182,87,1,94,1,"STRING"],[183,84,1,94,2,"STRING"],[184,86,1,94,3,"STRING"],[185,94,0,92,0,"CLIP"],[186,94,0,40,0,"CLIP"]],"groups":[{"id":1,"title":"Load Models Here","bounding":[140.98947143554688,-173.01513671875,333.2081604003906,499.61956787109375],"color":"#3f789e","font_size":24,"flags":{}},{"id":2,"title":"Size","bounding":[140,360,335,189.60000610351562],"color":"#3f789e","font_size":24,"flags":{}}],"config":{},"extra":{"ds":{"scale":0.7400249944258199,"offset":[469.9694060738343,16.323283533352374]},"frontendVersion":"1.16.9","node_versions":{"comfy-core":"0.3.29"},"VHS_latentpreview":false,"VHS_latentpreviewrate":0,"VHS_MetadataImage":true,"VHS_KeepIntermediate":true,"ue_links":[],"links_added_by_ue":[]},"version":0.4}